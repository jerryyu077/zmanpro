# ==========================================
# Cloudflare Workers 配置文件
# ==========================================
# 
# ⚠️ 部署前必读：
# 1. 先运行：wrangler d1 create zmansys-db
# 2. 复制输出的 database_id
# 3. 取消下面 [[d1_databases]] 部分的注释
# 4. 替换 database_id 为真实值
# 5. 运行：wrangler d1 execute zmansys-db --file=./schema.sql
# 6. 最后运行：wrangler deploy
# ==========================================

name = "zmansys-api"
main = "worker/index.js"
compatibility_date = "2024-01-01"

# D1 数据库绑定
[[d1_databases]]
binding = "DB"
database_name = "zmansys-db"
database_id = "fadfeab6-745f-482b-8006-1ba037d7beec"

# CORS 配置（允许前端访问）
[vars]
ALLOWED_ORIGINS = "*"

# 路由配置（部署到自定义域名时使用）
# routes = [
#   { pattern = "api.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]

